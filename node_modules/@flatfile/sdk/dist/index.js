!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{var e,t,n={587:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{ApiService:()=>O,ClientResponse:()=>M,DeprecatedImporter:()=>X,ELevel:()=>C,ERecordStatus:()=>j,Flatfile:()=>Q,FlatfileRecord:()=>D,IMPORTER_CONFIG_KEYS:()=>Z,ImportFrame:()=>V,ImportSession:()=>z,PartialRejection:()=>U,RecordChunkIterator:()=>N,RecordError:()=>he,RecordMutation:()=>A,RecordsChunk:()=>F,SESSION_CONFIG_KEYS:()=>Y,flatfileImporter:()=>de,serializeFunction:()=>me,serializeHook:()=>pe});class i extends Error{constructor(e){super(e),r(this,"code","FF-GE-00"),r(this,"debug",""),r(this,"name","FlatfileError"),r(this,"userMessage","An unknown issue has occured");const t=new.target.prototype;Object.setPrototypeOf(this,t),!this.message&&t.userMessage&&(this.message=t.userMessage),!t.message&&t.userMessage&&(t.message=t.userMessage),t.debug||(t.debug=t.message)}}class o extends i{constructor(...e){super(...e),r(this,"code","FF-IE-00"),r(this,"name","ImplementationError"),r(this,"debug","`embedId` or `token` property is required to initialize Flatfile."),r(this,"userMessage","There was a configuration error preventing the data importer from loading.")}}var s=n(687),a=n(10),c=n.n(a),u=n(776),l=n.n(u),d=n(121),h=1e3,f=3e4,p=e=>"string"==typeof e,m=class{constructor(e,t){const{connectionCallback:n,connectionParams:r={},minTimeout:i=h,timeout:o=f,reconnect:s=!1,reconnectionAttempts:a=1/0,lazy:u=!1,inactivityTimeout:d=0}=t||{};this.wsImpl=WebSocket,this.connectionCallback=n,this.url=e,this.operations={},this.nextOperationId=0,this.wsMinTimeout=i,this.wsTimeout=o,this.unsentMessagesQueue=[],this.reconnect=s,this.reconnecting=!1,this.reconnectionAttempts=a,this.lazy=!!u,this.inactivityTimeout=d,this.closedByUser=!1,this.backoff=new(c())({jitter:.5}),this.eventEmitter=new(l()),this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(r),this.lazy||this.connect()}get status(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState}close(e=!0,t=!0){this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,"connection_terminate",null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())}request(e){const t=this.getObserver.bind(this),n=this.executeOperation.bind(this),r=this.unsubscribe.bind(this);let i;return this.clearInactivityTimeout(),{[d.Z](){return this},subscribe(o,s,a){const c=t(o,s,a);return i=n(e,((e,t)=>{null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)})),{unsubscribe:()=>{i&&(r(i),i=null)}}}}}on(e,t,n){const r=this.eventEmitter.on(e,t,n);return()=>{r.off(e,t,n)}}onConnected(e,t){return this.on("connected",e,t)}onConnecting(e,t){return this.on("connecting",e,t)}onDisconnected(e,t){return this.on("disconnected",e,t)}onReconnected(e,t){return this.on("reconnected",e,t)}onReconnecting(e,t){return this.on("reconnecting",e,t)}onError(e,t){return this.on("error",e,t)}unsubscribeAll(){Object.keys(this.operations).forEach((e=>{this.unsubscribe(e)}))}getConnectionParams(e){return()=>new Promise(((t,n)=>{if("function"==typeof e)try{return t(e())}catch(e){return n(e)}t(e)}))}executeOperation(e,t){null===this.client&&this.connect();const n=this.generateOperationId();this.operations[n]={options:e,handler:t};try{this.checkOperationOptions(e,t),this.operations[n]&&(this.operations[n]={options:e,handler:t},this.sendMessage(n,"start",e))}catch(e){this.unsubscribe(n),t(this.formatErrors(e))}return n}getObserver(e,t,n){return"function"==typeof e?{next:t=>e(t),error:e=>t&&t(e),complete:()=>n&&n()}:e}createMaxConnectTimeGenerator(){const e=this.wsMinTimeout,t=this.wsTimeout;return new(c())({min:e,max:t,factor:1.2})}clearCheckConnectionInterval(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)}clearMaxConnectTimeout(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)}clearTryReconnectTimeout(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)}clearInactivityTimeout(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)}setInactivityTimeout(){this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((()=>{0===Object.keys(this.operations).length&&this.close()}),this.inactivityTimeout))}checkOperationOptions(e,t){const{query:n,variables:r,operationName:i}=e;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!p(n)||i&&!p(i)||r&&(null===(o=r)||"object"!=typeof o))throw new Error("Incorrect option types. query must be a string,`operationName` must be a string, and `variables` must be an object.");var o}buildMessage(e,t,n){return{id:e,type:t,payload:n&&n.query?Object.assign({},n,{query:n.query}):n}}formatErrors(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]}sendMessage(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))}sendMessageRaw(e){switch(this.status){case this.wsImpl.OPEN:const t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error(`Message must be JSON-serializable. Got: ${e}`))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}}generateOperationId(){return String(++this.nextOperationId)}tryReconnect(){if(!this.reconnect||this.backoff.attempts>=this.reconnectionAttempts)return;this.reconnecting||(Object.keys(this.operations).forEach((e=>{this.unsentMessagesQueue.push(this.buildMessage(e,"start",this.operations[e].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();const e=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((()=>{this.connect()}),e)}flushUnsentMessagesQueue(){this.unsentMessagesQueue.forEach((e=>{this.sendMessageRaw(e)})),this.unsentMessagesQueue=[]}checkConnection(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)}checkMaxConnectTimeout(){this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((()=>{this.status!==this.wsImpl.OPEN&&(this.reconnecting=!0,this.close(!1,!0))}),this.maxConnectTimeGenerator.duration())}connect(){this.client=new WebSocket(this.url,"graphql-ws"),this.checkMaxConnectTimeout(),this.client.addEventListener("open",(async()=>{if(this.status===this.wsImpl.OPEN){this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting");try{const e=await this.connectionParams();this.sendMessage(void 0,"connection_init",e),this.flushUnsentMessagesQueue()}catch(e){this.sendMessage(void 0,"connection_error",e),this.flushUnsentMessagesQueue()}}})),this.client.onclose=()=>{this.closedByUser||this.close(!1,!1)},this.client.addEventListener("error",(e=>{this.eventEmitter.emit("error",e)})),this.client.addEventListener("message",(({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){throw new Error(`Message must be JSON-parseable. Got: ${e}`)}if(Array.isArray(t))for(const e of t)this.processReceivedMessage(e);else this.processReceivedMessage(t)}))}processReceivedMessage(e){const t=e.id;if(!["data","complete","error"].includes(e.type)||this.operations[t])switch(e.type){case"connection_error":this.connectionCallback&&this.connectionCallback(e.payload);break;case"connection_ack":this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case"complete":this.operations[t].handler(null,null),delete this.operations[t];break;case"error":this.operations[t].handler(this.formatErrors(e.payload),null),delete this.operations[t];break;case"data":const n=e.payload.errors?{...e.payload,errors:this.formatErrors(e.payload.errors)}:e.payload;this.operations[t].handler(null,n);break;case"ka":const r=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,r&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(t)}unsubscribe(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,"stop",void 0))}};class y extends i{constructor(...e){super(...e),r(this,"code","FF-RE-00"),r(this,"debug",""),r(this,"userMessage","A network request failed to complete. Please try again."),r(this,"name","RequestError")}}class v extends i{constructor(e,t){super(e),r(this,"code","FF-UA-00"),r(this,"name","UnauthorizedError"),r(this,"debug","The JWT was not signed with a recognized private key or you did not provide the necessary information to identify the end user"),r(this,"userMessage","There was an issue establishing a secure import session."),e&&(this.debug=e),this.code=t??"FF-UA-00"}}const b=s.gql`
  mutation InitializeEmptyBatch($importedFromUrl: String!, $synced: Boolean) {
    initializeEmptyBatch(importedFromUrl: $importedFromUrl, synced: $synced) {
      batchId
      workspaceId
      schemas {
        id
      }
    }
  }
`,g=s.gql`
  mutation UpdateWorkspaceEnv($workspaceId: UUID!, $env: JSON!) {
    updateWorkspaceEnvironment(workspaceId: $workspaceId, env: $env) {
      success
    }
  }
`,w=s.gql`
  query GetBatch($batchId: UUID!) {
    getBatch(batchId: $batchId) {
      id
      status
    }
  }
`,I=s.gql`
  query GetFinalDatabaseView($skip: Int, $batchId: UUID, $limit: Int!, $status: String) {
    getFinalDatabaseView(skip: $skip, limit: $limit, batchId: $batchId, status: $status) {
      rows
      totalRows
    }
  }
`,E=s.gql`
  mutation PreflightBatch($batchId: String!) {
    preflightBatch(batchId: $batchId) {
      schemas {
        id
      }
      workbookId
      workspaceId
    }
  }
`,k=s.gql`
  mutation UpdateRecordStatus(
    $workbookId: String!
    $schemaId: Int!
    $validationState: String!
    $rowIds: [Int!]
  ) {
    queueUpdateRecordStatus(
      workbookId: $workbookId
      schemaId: $schemaId
      validationState: $validationState
      rowIds: $rowIds
    ) {
      id
    }
  }
`,x=s.gql`
  subscription BatchStatusUpdated($batchId: UUID!) {
    batchStatusUpdated(batchId: $batchId) {
      id
      status
    }
  }
`,_="MISSING_ENV_VAR".DEFAULT_PAGE_LIMIT?parseInt("MISSING_ENV_VAR".DEFAULT_PAGE_LIMIT,10):1e3;class O{constructor(e,t){this.token=e,this.apiUrl=t,r(this,"client",void 0),r(this,"pubsub",void 0),r(this,"fallbackGetBatchSubscription",(async e=>{const t=await this.getBatch(e);return["submitted","cancelled","evaluate"].includes(t.status)?{result:t,stopPoll:["submitted","cancelled"].includes(t.status)}:null})),this.client=new s.GraphQLClient(`${t}/graphql`,{headers:{Authorization:`Bearer ${this.token}`}}),this.pubsub=new m(`${t.replace(/^http/,"ws")}/graphql`,{reconnect:!0,lazy:!0,connectionParams:{isWebSocket:!0,headers:{authorization:`Bearer ${this.token}`}}})}async initEmptyBatch(e){const t=this.client.request(b,{importedFromUrl:location.href,synced:e});return this.handleResponse("initializeEmptyBatch",t)}async init(e){const{batchId:t,workspaceId:n,schemas:r}=await this.initEmptyBatch(e);return{batchId:t,workspaceId:n,schemaIds:r.map((e=>e.id)),synced:e}}async getWorkbookId(e){const t=this.client.request(E,{batchId:e});return(await this.handleResponse("preflightBatch",t)).workbookId}async getAllRecords(e,t=0,n=!1,r=_){const i=this.client.request(I,{batchId:e,skip:t,limit:_}),{rows:o,totalRows:s}=await this.handleResponse("getFinalDatabaseView",i);if(!n&&t+r<s){const{rows:n}=await this.getAllRecords(e,t+r);return{rows:o.concat(n),totalRows:s}}return{rows:o,totalRows:s}}async getRecordsByStatus(e,t,n=0,r=_){const i=this.client.request(I,{status:t,batchId:e.batchId,skip:n,limit:r});return this.handleResponse("getFinalDatabaseView",i)}async updateRecordStatus(e,t,n){if(t.length>0){const r=this.client.request(k,{workbookId:e.meta.workbookId,schemaId:parseInt(e.meta.schemaIds[0],10),validationState:n,rowIds:t});return this.handleResponse("queueUpdateRecordStatus",r)}}updateSessionEnv(e,t){const n=this.client.request(g,{workspaceId:e.meta.workspaceId,env:t});return this.handleResponse("updateWorkspaceEnvironment",n)}async getBatch(e){const t=this.client.request(w,{batchId:e});return this.handleResponse("getBatch",t)}async subscribeBatchStatusUpdated(e,t){((e,t,n=5e3,r=1e3)=>{let i;const o=setTimeout((()=>{clearInterval(i),i=setInterval((async()=>{const n=await e();null!=n&&n.result&&t(n.result),null!=n&&n.stopPoll&&s()}),r)}),n),s=()=>{clearTimeout(o),clearInterval(i)}})((()=>this.fallbackGetBatchSubscription(e)),t);const n=x;this.pubsub.request({query:n,variables:{batchId:e}}).subscribe({next:({data:e,errors:n})=>{const r=null==e?void 0:e.batchStatusUpdated;n?this.handleGraphQLErrors(n):null!=r&&r.id&&t(r)}})}handleRawError(e){const t=e&&"object"==typeof e&&"message"in e;if(!t||!(e instanceof s.ClientError||"response"in e))throw new i(t?e.message:"Unknown network error");{const t=e.response.errors,n="message"in e?e.message:void 0;this.handleGraphQLErrors(t,n)}}handleGraphQLErrors(e,t){throw null!=e&&e.length&&e.forEach((e=>{var t,n;if(401===(null===(t=e.extensions)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.statusCode)&&"string"==typeof e.extensions.response.error){const{error:t,message:n}=e.extensions.response;throw new v(t,n)}if("Unauthorized"===e.message)throw new v;throw new y(`Internal Server Error: "${e.message}"`)})),new y(`${t||"Something went wrong"}`)}async handleResponse(e,t){try{return(await t)[e]}catch(e){const t=e;throw this.handleRawError(t),new Error("Unhandled error")}}}class S extends i{constructor(...e){super(...e),r(this,"code","FF-CT-00"),r(this,"name","ChunkTimeoutError"),r(this,"userMessage","Something went wrong while submitting your data."),r(this,"debug","Chunk processing callback is taking longer than expected. Did you forget to call next() inside your onData callback?")}}class T extends i{constructor(...e){super(...e),r(this,"code","FF-CT-01"),r(this,"name","ChunkTimeoutExpiredError"),r(this,"userMessage","Something went wrong while submitting your data."),r(this,"debug","Chunk processing callback (onData) is calling next() after the timeout limit. Increase the timeout limit or reduce chunkSize.")}}class A{constructor(e){r(this,"$edits",{}),r(this,"$info",[]),r(this,"recordId",void 0),this.recordId=e instanceof D?e.recordId:e}set(e,t){return this.$edits[e]=t,this}addInfo(e,t){return this.addMessage(e,t,C.INFO)}addComment(e,t){return this.addInfo(e,t)}addError(e,t){return this.addMessage(e,t,C.ERROR)}addWarning(e,t){return this.addMessage(e,t,C.WARN)}addMessage(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((e=>{this.$info.push({key:e,message:t,level:n})})),this}toGraphQLEdits(){return{_id:this.recordId,data:this.$edits,messages:this.$info.map((e=>({error:e.level,key:e.key,message:e.message})))}}}class D{constructor(e){this.$raw=e,r(this,"data",void 0),r(this,"recordId",void 0),r(this,"$info",void 0),this.data=e.data,this.recordId=e.id,this.$info=this.$raw.info.map((e=>({level:e.level,field:e.key,message:e.message})))}get valid(){return this.$raw.valid}get status(){return this.$raw.status}get allMessages(){return this.$info}get errors(){return this.$info.filter((e=>e.level===C.ERROR))}get warnings(){return this.$info.filter((e=>e.level===C.WARN))}get info(){return this.$info.filter((e=>e.level===C.INFO))}getMutation(){return new A(this)}}let C,j;!function(e){e.ERROR="error",e.WARN="warn",e.INFO="info"}(C||(C={})),function(e){e.REVIEW="review",e.DISMISSED="dismissed",e.ACCEPTED="accepted",e.SUBMITTED="submitted"}(j||(j={}));const R=s.gql`
  mutation UpdateWorkbookRows($edits: [JSON!]!, $batchId: UUID) {
    updateWorkbookRows(edits: $edits, batchId: $batchId) {
      rows {
        _id
        cells
        validations {
          error
          key
          message
        }
      }
    }
  }
`;class M{}class U extends M{constructor(e){super(),r(this,"errors",void 0),Array.isArray(e)?this.errors=e:this.errors=[e]}get recordIds(){return this.errors.map((e=>e.recordId))}async executeResponse(e){if(this.errors.length>0){const t=e.api.client;await t.request(R,{batchId:e.batchId,edits:this.errors.map((e=>e.toGraphQLEdits()))}).catch((e=>{throw new y(e)}))}return this}}class F{constructor(e,t,n){this.session=e,this.records=t,this.meta=n}get recordIds(){return this.records.map((e=>e.recordId))}async getNextChunk(){const{index:e,limit:t,status:n}=this.meta??{},r=await this.session.api.getRecordsByStatus(this.session,n,0,t),{rows:i=[],totalRows:o}=r??{};return(null==r?void 0:r.totalRows)<1?null:new F(this.session,i.map((e=>new D(e))),{status:n,skip:0,limit:t,totalRecords:o,index:"number"==typeof e?e+1:void 0})}get totalChunks(){return Math.ceil(this.meta.totalRecords/this.meta.limit)}get currentChunkIndex(){return this.meta.index||Math.floor(this.meta.skip/this.meta.limit)}}var $=n(729);new $.EventEmitter;class P{constructor(){r(this,"em",void 0),r(this,"proxies",[]),this.em=new $.EventEmitter}emit(e,t){return this.em.emit(e,t),this.proxies.forEach((n=>{n.emit(e,t)})),this}hasListener(e){return this.em.listenerCount(e)>0}listen(e,t){return this.on(e,t),()=>(this.off(e,t),this)}on(e,t){return this.em.on(e,t),this}off(e,t){return this.em.off(e,t),this}cleanup(){return this.em.removeAllListeners(),this}proxyTo(e){return this.proxies.push(e),this}bubble(e,t){this.on(e,(n=>{t.emit(e,n)}))}}class N extends P{constructor(e,t,n){super(),this.session=e,this.options=n,r(this,"api",void 0),r(this,"acceptedIds",[]),r(this,"rejectedIds",[]),r(this,"callback",void 0),r(this,"timerId",void 0),r(this,"isProcessingStopped",!1),this.callback=t,this.api=e.api,this.bubble("error",e)}async afterEach(e,t){const n=[],r=t instanceof U?t.recordIds:[];n.push(this.api.updateRecordStatus(this.session,this.rejectedIds,j.REVIEW));const i=e.recordIds.filter((e=>!r.includes(e)));if(n.push(this.api.updateRecordStatus(this.session,i,j.ACCEPTED)),await Promise.all(n),this.acceptedIds=this.acceptedIds.concat(i),this.rejectedIds=this.rejectedIds.concat(r),t instanceof U)await t.executeResponse(this.session);else if(t)throw t}async beforeFirst(){const e=await this.api.getRecordsByStatus(this.session,j.SUBMITTED,0,this.options.chunkSize);return new F(this.session,e.rows.map((e=>new D(e))),{index:0,skip:0,limit:this.options.chunkSize,totalRecords:e.totalRows,status:j.SUBMITTED})}beforeOthers(e){return e.getNextChunk()}async next(e,t){try{if(this.timerId&&clearTimeout(this.timerId),this.isProcessingStopped)throw new T("Error ");await this.afterEach(e,t);const n=await this.beforeOthers(e);n?this.runCallback(n):await this.afterAll()}catch(e){this.stopDataProcessing(e)}}process(){return new Promise((async(e,t)=>{const n=await this.beforeFirst();this.runCallback(n),this.on("complete",(n=>{n?t(n):e()}))}))}async afterAll(){this.emit("complete")}runCallback(e){return this.timerId=setTimeout((()=>{this.timerId=void 0,console.warn("Did you forget to call next() inside your onData callback?"),this.stopDataProcessing(new S)}),this.options.chunkTimeout),this.callback(e,(t=>this.next(e,t)))}stopDataProcessing(e){this.emit("error",{error:e}),this.isProcessingStopped||(this.emit("complete",e),this.isProcessingStopped=!0)}}const q=(e,t)=>{if(""===e.className)return void(e.className=t);const n=e.className.split(" ");n.indexOf(t)>-1||(n.push(t),e.className=n.join(" "))};function B(e){return document.querySelector(e)}function L(e){return!!e&&Boolean(B(e))}class V extends P{constructor(e){super(),this.session=e,r(this,"ui",void 0),r(this,"$iframe",void 0),this.ui=this.session.ui,this.close=this.close.bind(this)}open(e){this.ui.initialize();const t=this.session.signedImportUrl(e),n=this.createIFrameElement(t);return this.ui.$container.append(n),q(document.body,"flatfile-active"),this.session.emit("launch"),this.ui.$close.addEventListener("click",this.close),this}mountOn(e,t){const n=this.session.signedImportUrl(t),r=this.createIFrameElement(n);return B(e).append(r),this.session.emit("launch"),this}close(){var e,t;((e,t)=>{const n=e.className.split(" "),r=n.indexOf("flatfile-active");r>-1&&n.splice(r,1),e.className=n.join(" ")})(document.body),L(".flatfile-sdk")&&(null===(e=this.$iframe)||void 0===e||e.remove(),this.session.emit("close"),null===(t=this.ui.$close)||void 0===t||t.removeEventListener("click",this.close))}createIFrameElement(e){const t=document.createElement("iframe");return t.addEventListener("load",(()=>this.emit("load"))),t.src=e,this.$iframe=t}}class z extends P{constructor(e,t){var n;super(),this.flatfile=e,this.meta=t,r(this,"ui",void 0),r(this,"api",void 0),r(this,"$iframe",void 0),this.ui=this.flatfile.ui,this.api=null===(n=this.flatfile)||void 0===n?void 0:n.api,this.bubble("error",this.flatfile)}get batchId(){return this.meta.batchId}get workbookId(){return this.meta.workbookId}get schemaId(){return parseInt(this.meta.schemaIds[0],10)}init(){return this.subscribeToBatchStatus(),this.emit("init",{session:this,meta:this.meta}),this.meta}get synced(){return this.meta.synced}openInEmbeddedIframe(e,t){return t?this.iframe.mountOn(t,e):this.iframe.open(e)}openInNewWindow(e){const t=window.open(this.signedImportUrl(e));if(!t)throw new Error("Could not initialize window. Possibly prevented by popup blocker");return this.emit("launch",{batchId:this.batchId}),t}get iframe(){return void 0!==(e=this.$iframe)?e:(()=>this.$iframe=new V(this))();var e}async updateEnvironment(e){return this.api.updateSessionEnv(this,e)}async processPendingRecords(e,t){this.meta.workbookId=await this.api.getWorkbookId(this.batchId);const n=new N(this,e,{chunkSize:(null==t?void 0:t.chunkSize)||1e3,chunkTimeout:(null==t?void 0:t.chunkTimeout)||3e4});return await n.process().catch((()=>console.warn("Something went wrong. Records processing was stopped."))),n}async subscribeToBatchStatus(){return await this.api.subscribeBatchStatusUpdated(this.batchId,(async e=>{if("evaluate"===e.status&&this.emit("evaluate",this),"submitted"===e.status&&(this.emit("submit",this),this.emit("complete",{batchId:this.batchId,data:(e=!1)=>this.api.getAllRecords(this.batchId,0,e)})),"cancelled"===e.status){const e=await this.api.init();this.meta={...this.meta,...e},this.init()}}))}signedImportUrl(e){const t=this.meta.mountUrl,n={jwt:this.api.token,...this.batchId?{batchId:this.batchId}:{},...null!=e&&e.autoContinue?{autoContinue:"1"}:{},...null!=e&&e.theme?{theme:JSON.stringify(e.theme)}:{},...null!=e&&e.customFields?{customFields:JSON.stringify(e.customFields)}:{}};return`${t}/e/?${r=n,Object.keys(r).map((e=>`${e}=${encodeURI(r[e])}`)).join("&")}`;var r}close(){var e;this.$iframe?null===(e=this.$iframe)||void 0===e||e.close():console.warn("No Flatfile importer iframe was found in the DOM.")}}function G(e){return btoa(String.fromCharCode.apply(0,e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H(e){return t=(t=window.btoa(unescape(encodeURIComponent(e)))).replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,""),new Uint8Array(Array.prototype.map.call(atob(t),(e=>e.charCodeAt(0))));var t}let J,W;!function(e){e.Default="Connecting to Flatfile...",e.Authenticating="Authenticating..."}(W||(W={}));class K{constructor(){r(this,"$loader",void 0),r(this,"$message",void 0)}get $close(){return B(".flatfile-close")}get $container(){return B(".flatfile-sdk")}initialize(){var e;this.$container||(J||(J=document.createElement("style"),J.setAttribute("type","text/css"),null===(e=document.querySelector("head"))||void 0===e||e.appendChild(J),J.textContent="\n  .flatfile-sdk {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    display: none;\n    z-index: 100000;\n    padding: 40px;\n    background-color: rgba(0,0,0,0.15);\n    font-family: 'Avenir Next', sans-serif;\n  }\n  .flatfile-sdk .flatfile-close {\n    position: absolute;\n    right: 20px;\n    top: 15px;\n    width: 20px;\n    height: 20px;\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n    cursor: pointer;\n  }\n  .flatfile-sdk .flatfile-close:after {\n    display: inline-block;\n    content: '✕';\n    color: white;\n    font-size: 20px;\n  }\n  .flatfile-sdk iframe {\n    width: calc(100% - 80px);\n    height: calc(100% - 80px);\n    position: absolute;\n    border-width: 0;\n    border-radius: 20px;\n  }\n  body.flatfile-active {\n    overflow: hidden;\n    overscroll-behavior-x: none;\n  }\n  body.flatfile-active .flatfile-sdk {\n    display: block;\n  }\n  .flatfile-sdk .flatfile-loader {\n    z-index: 10;\n    position: absolute;\n    width: calc(100% - 80px);\n    height: calc(100% - 80px);\n    border-radius: 20px;\n    background-color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .flatfile-sdk .flatfile-loader svg {\n    width: 13px;\n    height: 13px;\n    vertical-align: -3px;\n    animation: rotate 1s linear infinite;\n    margin-right: 8px;\n    width: 24px;\n    height: 24px;\n    vertical-align: -6px;\n    display: inline-block;\n  }\n  .flatfile-sdk .flatfile-loader svg circle {\n    stroke: #3b2fc9;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n"),document.body.insertAdjacentHTML("beforeend",'<div class="flatfile-sdk">\n            <button class="flatfile-close"></button>\n         </div>'))}destroy(){this.$container&&(this.$loader=void 0,this.$message=void 0,this.$container.remove())}showLoader(){this.initialize();const e=document.createElement("div");e.setAttribute("id","flatfile-loader"),e.append(this.spinner()),this.$message=document.createTextNode(W.Default),e.append(this.$message),q(e,"flatfile-loader"),this.$container.append(e),q(document.body,"flatfile-active"),this.$loader=e}hideLoader(){var e;this.$loader&&(null===(e=this.$loader)||void 0===e||e.remove(),this.$loader=void 0,this.$message=void 0)}updateLoaderMessage(e){var t;this.$loader&&this.$message&&(this.$message.remove(),this.$message=document.createTextNode(e),null===(t=this.$loader)||void 0===t||t.append(this.$message))}spinner(){const e=this.createSVGNode("svg",{viewBox:"0 0 50 50",color:"#3b2fc9"}),t=this.createSVGNode("circle",{cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"});return e.append(t),e}createSVGNode(e="svg",t){const n=document.createElementNS("http://www.w3.org/2000/svg",e);for(const e in t)n.setAttributeNS(null,e,t[e]);return n}}class Q extends P{constructor(e,t={}){super(),r(this,"config",void 0),r(this,"api",void 0),r(this,"ui",void 0);const n="object"==typeof e?e:{...t,token:e};this.config=this.mergeConfigDefaults(n),this.ui=new K,this.config.onError&&this.on("error",this.config.onError)}async token(){if(void 0!==this.config.token)return this.extractToken();if(this.config.embedId)return Q.getDevelopmentToken(this.config.embedId,{org:this.config.org||{id:1,name:"Company"},user:this.config.user||{id:1,name:"John Doe",email:"john@email.com"}});throw new o("`embedId` or `token` property is required to initialize Flatfile.")}async extractToken(){this.ui.updateLoaderMessage(W.Authenticating);const{token:e}=this.config,t="string"==typeof e?e:"function"==typeof e?await e():"";if(!function(e){if("string"!=typeof e)return!1;const t=e.split("."),n=t.length;return!(n>3||n<2)&&t.reduce(((e,t)=>e&&function(e){return/^[A-Z0-9_\-]*$/i.test(e)}(t)),!0)}(t))throw new o("`token` has to return a valid JWT.");return this.ui.updateLoaderMessage(W.Default),t}async initApi(){if(!this.api){const e=await this.token();this.api=new O(e,this.config.apiUrl)}return this.api}async startOrResumeImportSession(e){try{const{chunkSize:t,chunkTimeout:n,mountOn:r,autoContinue:i,customFields:s,theme:a,onInit:c,onData:u,onComplete:l}=e??{};!r&&null!=e&&e.open&&this.ui.showLoader();const d=await this.initApi(),h=await d.init(!!u),{mountUrl:f}=this.config,p=new z(this,{mountUrl:f,...h});if(c&&p.on("init",c),u&&p.on("evaluate",(async()=>{await p.processPendingRecords(((e,t)=>{e.records.length&&u(e,t)}),{chunkSize:t,chunkTimeout:n})})),p.on("submit",(async()=>{var e;l?(null===(e=p.iframe)||void 0===e||e.close(),l({batchId:h.batchId,data:(e=!1)=>d.getAllRecords(h.batchId,0,e)})):u||console.log("[Flatfile]: Register `onComplete` event to receive your payload")})),setTimeout((()=>{p.init(),this.emit("launch",{batchId:null==h?void 0:h.batchId})}),0),r||"iframe"===(null==e?void 0:e.open)){if(r&&!L(r))throw new o("Target mounting point was not found in DOM. Did you provide a valid css selector?");p.openInEmbeddedIframe({theme:a,autoContinue:i,customFields:s},r).on("load",(()=>this.ui.hideLoader()))}return"window"===(null==e?void 0:e.open)&&(p.openInNewWindow({theme:a,autoContinue:i,customFields:s}),this.ui.destroy()),p}catch(e){throw this.ui.destroy(),this.handleError(e),this.cleanup(),e}}async requestDataFromUser(e,t){let n={open:"iframe"};"function"==typeof e?n=t?{...n,...t,onData:e}:n:"object"==typeof e&&(n={...n,...e});const r=await this.startOrResumeImportSession(n);return{close:()=>r.close()}}handleError(e){this.hasListener("error")?this.emit("error",{error:e}):alert(`[${e.code}] ${e.userMessage}`)}static getDevelopmentToken(e,t,n="UNSIGNED"){console.warn("Creating an insecure token that can only be used in dev mode. Make sure to sign properly before releasing to production");const r={...t,user:{id:"99",email:"john.doe@example.com",name:"John Doe",...null!=t&&t.user?t.user:{}},org:{id:"77",name:"Acme Inc.",...null!=t&&t.org?t.org:{}}};return function(e,t){if(!t)throw new Error("Key is required.");const n=window.crypto&&crypto.subtle||window.crypto&&crypto.webkitSubtle||window.msCrypto&&window.msCrypto.Subtle;if(!n)throw new Error("Could not generate JWT (crypto.subtle is not found).");const r={name:"HMAC",hash:{name:"SHA-256"}};let i;try{i=JSON.stringify(e)}catch(e){throw e}const o=G(H(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+G(H(i)),s=H(t);return n.importKey("raw",s,r,!1,["sign"]).then((e=>{const t=i.split(""),s=H(i).entries();let a=0;const c=[];let u;for(;!(u=s.next()).done;)c.push([u.value[1],t[a]]),a++;const l=H(o);return n.sign(r.name,e,l).then((e=>{const t=G(new Uint8Array(e));return o+"."+t}))}))}({embed:e,sub:r.user.email,...r,devModeOnly:!0},n)}static requestDataFromUser(e={}){const{sessionConfig:t,importerConfig:n}=Q.extractImporterOptions(e);return new Q(n).requestDataFromUser(t)}static extractImporterOptions(e){const t={},n={};return Object.entries(e).forEach((([e,r])=>{if(-1!==Y.indexOf(e))t[e]=r;else{if(-1===Z.indexOf(e))throw new o(`Field "${e}" should not exist on the config.`);n[e]=r}})),{sessionConfig:t,importerConfig:n}}mergeConfigDefaults(e){return{apiUrl:"https://api.us.flatfile.io",mountUrl:"https://app.flatfile.io",...Object.entries(e).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=n),e)),{})}}}const Y=["autoContinue","customFields","chunkSize","onComplete","onData","onInit","open","mountOn","theme"],Z=["apiUrl","embedId","mountUrl","onError","org","token","user"];class X extends P{constructor(e){super(),this.ff=e,r(this,"importer",void 0)}async __unsafeGenerateToken(e){const{embedId:t,endUserEmail:n,privateKey:r}=e;if(this.importer)throw new Error("You cannot call __unsafeGenerateToken after already opening the importer");console.warn("[Flatfile SDK]: Using `.__unsafeGenerateToken()` is unsafe and would expose your private key.");const i=await Q.getDevelopmentToken(t,{user:{id:n,email:n,name:"Unknown"},org:{id:n,name:"Unknown"},env:{test:"foo"}},r);this.ff=new Q({...this.ff.config,token:i})}async launch(e="iframe"){try{const t=await this.ff.startOrResumeImportSession({open:e});return t.proxyTo(this),this.importer=t,{batchId:t.batchId}}catch(e){throw e}}close(){var e;null===(e=this.importer)||void 0===e||e.iframe.close()}}const ee=(e,t)=>{if(""===e.className)return;const n=e.className.split(" "),r=n.indexOf(t);r>-1&&n.splice(r,1),e.className=n.join(" ")};let te;function ne(e){return btoa(String.fromCharCode.apply(0,e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function re(e){return t=(t=window.btoa(unescape(encodeURIComponent(e)))).replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,""),new Uint8Array(Array.prototype.map.call(atob(t),(e=>e.charCodeAt(0))));var t}const ie=s.gql`
  mutation InitializeEmptyBatch($importedFromUrl: String!) {
    initializeEmptyBatch(importedFromUrl: $importedFromUrl) {
      batchId
      workspaceId
      schemas {
        id
      }
    }
  }
`,oe=s.gql`
  query GetFinalDatabaseView($skip: Int, $batchId: UUID, $limit: Int!) {
    getFinalDatabaseView(skip: $skip, limit: $limit, batchId: $batchId) {
      rows
      totalRows
    }
  }
`,se=s.gql`
  subscription BatchStatusUpdated($batchId: UUID!) {
    batchStatusUpdated(batchId: $batchId) {
      id
      status
    }
  }
`,ae=new $.EventEmitter;function ce(e,t){ae.emit(e,t)}const ue=()=>{ae.removeAllListeners()};class le{constructor(e,t){this.token=e,this.apiUrl=t,r(this,"client",void 0),r(this,"pubsub",void 0),r(this,"PAGE_LIMIT",1e3),this.client=new s.GraphQLClient(`${t}/graphql`,{headers:{Authorization:`Bearer ${this.token}`}}),this.pubsub=new m(`${t.replace(/^http/,"ws")}/graphql`,{reconnect:!0,lazy:!0,connectionParams:{isWebSocket:!0,headers:{authorization:`Bearer ${this.token}`}}})}handleError(e,t){throw null!=e&&e.length&&e.forEach((e=>{if("Unauthorized"===e.message)throw new Error("[Flatfile SDK] Embed ID or Private Key is invalid. Please make sure your JWT contains valid credentials.");throw new Error(`[Flatfile SDK]: Internal Server Error: "${e.message}"`)})),new Error(`[Flatfile SDK]: ${t||"Something went wrong"}`)}async init(){return this.client.request(ie,{importedFromUrl:location.href}).then((({initializeEmptyBatch:e})=>(ce("init",e),e))).catch((e=>this.handleError(e.response.errors,e.message)))}async getFinalDatabaseView(e,t=0,n=!1){return this.client.request(oe,{batchId:e,skip:t,limit:this.PAGE_LIMIT}).then((({getFinalDatabaseView:e})=>e)).then((async({rows:r,totalRows:i})=>{if(!n&&t+this.PAGE_LIMIT<i){const{rows:n}=await this.getFinalDatabaseView(e,t+this.PAGE_LIMIT);return{rows:r.concat(n),totalRows:i}}return{rows:r,totalRows:i}})).catch((e=>this.handleError(e.response.errors,e.message)))}subscribeBatchStatusUpdated(e,t){this.pubsub.request({query:se,variables:{batchId:e}}).subscribe({next:({data:e,errors:n})=>{if(n)return this.handleError(n);t(e)}})}}function de(e,t={}){let n,r=new le(e,t.apiUrl||"https://api.us.flatfile.io");const i=()=>{ce("close"),ue()},o=e=>{r.subscribeBatchStatusUpdated(e,(async t=>{var i;if(null!=t&&null!==(i=t.batchStatusUpdated)&&void 0!==i&&i.id)switch(t.batchStatusUpdated.status){case"submitted":var s;ce("complete",{batchId:e,data:(t=!1)=>r.getFinalDatabaseView(e,0,t)}),null===(s=n)||void 0===s||s();break;case"cancelled":{const{batchId:e}=await r.init();o(e);break}}}))};return{async __unsafeGenerateToken({embedId:e,endUserEmail:n,privateKey:i}){console.error("[Flatfile SDK]: Using `.__unsafeGenerateToken()` is unsafe and would expose your private key."),r=new le(await function(e,t){if(!t)throw new Error("Key is required.");const n=window.crypto&&crypto.subtle||window.crypto&&crypto.webkitSubtle||window.msCrypto&&window.msCrypto.Subtle;if(!n)throw new Error("Could not generate JWT (crypto.subtle is not found).");const r={name:"HMAC",hash:{name:"SHA-256"}};let i;try{i=JSON.stringify(e)}catch(e){throw e}const o=ne(re(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+ne(re(i)),s=re(t);return n.importKey("raw",s,r,!1,["sign"]).then((e=>{const t=i.split(""),s=re(i).entries();let a=0;const c=[];let u;for(;!(u=s.next()).done;)c.push([u.value[1],t[a]]),a++;const l=re(o);return n.sign(r.name,e,l).then((e=>{const t=ne(new Uint8Array(e));return o+"."+t}))}))}({embed:e,sub:n},i),t.apiUrl||"https://api.us.flatfile.io")},async launch(){try{const{batchId:e}=await r.init();return o(e),ce("launch",{batchId:e}),n=(e=>{var n;document.querySelector(".flatfile-sdk")||(te||(te=document.createElement("style"),te.setAttribute("type","text/css"),null===(n=document.querySelector("head"))||void 0===n||n.appendChild(te),te.textContent="\n  .flatfile-sdk {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    display: none;\n    z-index: 100000;\n    padding: 40px;\n    background-color: rgba(0,0,0,0.15);\n  }\n  .flatfile-sdk .flatfile-close{\n    position: absolute;\n    right: 20px;\n    top: 15px;\n    width: 20px;\n    height: 20px;\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n    cursor: pointer;\n  }\n  .flatfile-sdk .flatfile-close:after{\n    display: inline-block;\n    content: '✕';\n    color: white;\n    font-size: 20px;\n  }\n  .flatfile-sdk iframe {\n    width: calc(100% - 80px);\n    height: calc(100% - 80px);\n    position: absolute;\n    border-width: 0;\n    border-radius: 20px;\n  }\n  body.flatfile-active {\n    overflow: hidden;\n    overscroll-behavior-x: none;\n  }\n"),document.body.insertAdjacentHTML("beforeend",'<div class="flatfile-sdk"><button class="flatfile-close"></button></div>'));const o=document.createElement("iframe");o.src=`${t.mountUrl||"https://app.flatfile.io"}/e/?jwt=${encodeURI(r.token)}${e?`&batchId=${e}`:""}`;const s=document.querySelector(".flatfile-close"),a=document.querySelector(".flatfile-sdk");a.append(o),a.style.display="block",((e,t)=>{if(""===e.className)return e.className=t;const n=e.className.split(" ");n.indexOf(t)>-1||(n.push(t),e.className=n.join(" "))})(document.body,"flatfile-active");const c=()=>{a.style.display="none",ee(document.body,"flatfile-active"),o.remove(),i(),s.removeEventListener("click",c)};return s.addEventListener("click",c),()=>{a.style.display="none",ee(document.body,"flatfile-active"),o.remove(),i()}})(e),{batchId:e}}catch(e){throw ue(),e}},on(e,t){!function(e,t){ae.on(e,t)}(e,t)},close(){if(!n)throw new Error("[Flatfile SDK] Could not close the importer because it has not been launched.");n()}}}class he extends A{constructor(e,t){super(e),t.forEach((e=>{this.addError(e.field,e.message)}))}}var fe=n(283);function pe(e){return JSON.stringify((0,fe.serializeFn)(e))}function me(e){return JSON.stringify((0,fe.serializeFn)(e))}},10:e=>{function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},98:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function I(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},v.call(g.prototype),v.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},I.error=function(){var e=new I(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];I.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new I(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new g(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new I(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=h,e.Request=g,e.Response=I),t.Headers=h,t.Request=g,t.Response=I,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},445:e=>{"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},804:(e,t,n)=>{"use strict";var r=n(268);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(e,t){var n=s.get(t);n?n.push.apply(n,e):s.set(t,e)}if(i(t))o=null,a([n],t);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return a([""+c+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+c+n,i);return r.files.forEach(a),r.clone}));else if(t&&t.constructor===Object)for(var u in o={},t){var l=e(t[u],""+c+u,i);l.files.forEach(a),o[u]=l.clone}else o=t}return{clone:o,files:s}}},823:(e,t,n)=>{"use strict";t.ReactNativeFile=n(445),t.extractFiles=n(804),t.isExtractableFile=n(268)},268:(e,t,n)=>{"use strict";var r=n(445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},458:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(823),o=r(n(230)),s=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t,n){var r=i.extractFiles({query:e,variables:t,operationName:n},"",s),a=r.clone,c=r.files;if(0===c.size){if(!Array.isArray(e))return JSON.stringify(a);if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var u=e.reduce((function(e,n,r){return e.push({query:n,variables:t?t[r]:void 0}),e}),[]);return JSON.stringify(u)}var l=new("undefined"==typeof FormData?o.default:FormData);l.append("operations",JSON.stringify(a));var d={},h=0;return c.forEach((function(e){d[++h]=e})),l.append("map",JSON.stringify(d)),h=0,c.forEach((function(e,t){l.append(""+ ++h,t)})),l}},687:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var d=s(n(98)),h=d,f=n(33),p=l(n(458)),m=n(308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return m.ClientError}});var y=function(e){var t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof h.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},v=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},b=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,s=e.headers,u=e.fetch,l=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return c(this,(function(a){switch(a.label){case 0:return e=p.default(n,i,o),[4,u(t,r({method:"POST",headers:r(r({},"string"==typeof e?{"Content-Type":"application/json"}:{}),s),body:e},l))];case 1:return[2,a.sent()]}}))}))},g=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,s=e.headers,u=e.fetch,l=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return c(this,(function(a){switch(a.label){case 0:return e=function(e){var t=e.query,n=e.variables,r=e.operationName;if(!Array.isArray(t)){var i=["query="+encodeURIComponent(v(t))];return n&&i.push("variables="+encodeURIComponent(JSON.stringify(n))),r&&i.push("operationName="+encodeURIComponent(r)),i.join("&")}if(void 0!==n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=t.reduce((function(e,t,r){return e.push({query:v(t),variables:n?JSON.stringify(n[r]):void 0}),e}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:i,operationName:o}),[4,u(t+"?"+e,r({method:"GET",headers:s},l))];case 1:return[2,a.sent()]}}))}))},w=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){var i=this.options,o=i.headers,s=i.fetch,a=void 0===s?d.default:s,c=i.method,l=void 0===c?"POST":c,h=u(i,["headers","fetch","method"]);return I({url:this.url,query:e,variables:t,headers:r(r({},y(o)),y(n)),operationName:void 0,fetch:a,method:l,fetchOptions:h})},e.prototype.request=function(e,t,n){return a(this,void 0,void 0,(function(){var i,o,s,a,l,h,f,p,m,v,b;return c(this,(function(c){switch(c.label){case 0:return i=this.options,o=i.headers,s=i.fetch,a=void 0===s?d.default:s,l=i.method,h=void 0===l?"POST":l,f=u(i,["headers","fetch","method"]),p=this.url,m=x(e),v=m.query,b=m.operationName,[4,I({url:p,query:v,variables:t,headers:r(r({},y(o)),y(n)),operationName:b,fetch:a,method:h,fetchOptions:f})];case 1:return[2,c.sent().data]}}))}))},e.prototype.batchRequests=function(e,t){return a(this,void 0,void 0,(function(){var n,i,o,s,a,l,h,f,p,m;return c(this,(function(c){switch(c.label){case 0:return n=this.options,i=n.headers,o=n.fetch,s=void 0===o?d.default:o,a=n.method,l=void 0===a?"POST":a,h=u(n,["headers","fetch","method"]),f=this.url,p=e.map((function(e){return x(e.document).query})),m=e.map((function(e){return e.variables})),[4,I({url:f,query:p,variables:m,headers:r(r({},y(i)),y(t)),operationName:void 0,fetch:s,method:l,fetchOptions:h})];case 1:return[2,c.sent().data]}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function I(e){var t=e.url,n=e.query,i=e.variables,o=e.headers,s=e.operationName,u=e.fetch,l=e.method,d=void 0===l?"POST":l,h=e.fetchOptions;return a(this,void 0,void 0,(function(){var e,a,l,f,p,y,v,w;return c(this,(function(c){switch(c.label){case 0:return e="POST"===d.toUpperCase()?b:g,a=Array.isArray(n),[4,e({url:t,query:n,variables:i,operationName:s,headers:o,fetch:u,fetchOptions:h})];case 1:return[4,k(l=c.sent())];case 2:if(f=c.sent(),p=a&&Array.isArray(f)?!f.some((function(e){return!e.data})):!!f.data,l.ok&&!f.errors&&p)return y=l.headers,v=l.status,[2,r(r({},a?{data:f}:f),{headers:y,status:v})];throw w="string"==typeof f?{error:f}:f,new m.ClientError(r(r({},w),{status:l.status,headers:l.headers}),{query:n,variables:i})}}))}))}function E(e,t,n,r){return a(this,void 0,void 0,(function(){return c(this,(function(i){return[2,new w(e).request(t,n,r)]}))}))}function k(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}function x(e){var t;if("string"==typeof e)return{query:e};var n=void 0,r=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===r.length&&(n=null===(t=r[0].name)||void 0===t?void 0:t.value),{query:f.print(e),operationName:n}}t.GraphQLClient=w,t.rawRequest=function(e,t,n,r){return a(this,void 0,void 0,(function(){return c(this,(function(i){return[2,new w(e).rawRequest(t,n,r)]}))}))},t.request=E,t.batchRequests=function(e,t,n){return a(this,void 0,void 0,(function(){return c(this,(function(r){return[2,new w(e).batchRequests(t,n)]}))}))},t.default=E,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}},308:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var i=function(e){function t(n,r){var i=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,o)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i},776:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=o(n(706)),i=o(n(554));function o(e){return e&&e.__esModule?e:{default:e}}},2:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s(e,[])};var r,i=(r=n(554))&&r.__esModule?r:{default:r};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.default)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:s(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(s(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+s(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(972))&&r.__esModule?r:{default:r},o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,i.default)(o);var s=function(){function e(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=s,(0,i.default)(s)},849:(e,t)=>{"use strict";function n(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function r(e){for(var t,n=!0,r=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),i=r(e);if(0!==i)for(var o=1;o<t.length;o++)t[o]=t[o].slice(i);for(var s=0;s<t.length&&n(t[s]);)++s;for(var a=t.length;a>s&&n(t[a-1]);)--a;return t.slice(s,a).join("\n")},t.getBlockStringIndentation=r,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!r||o||s||n,c="";return!a||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}},33:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(285),i=n(849),o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=u("(",a(e.variableDefinitions,", "),")"),i=a(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?a([t,a([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+u(" = ",r)+u(" ",a(i," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,s=u("",t,": ")+n,c=s+u("(",a(r,", "),")");return c.length>80&&(c=s+u("(\n",l(a(r,"\n")),"\n)")),a([c,a(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return a(["...",u("on ",t),a(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(u("(",a(r,", "),")")," ")+"on ".concat(n," ").concat(u("",a(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:s((function(e){var t=e.directives,n=e.operationTypes;return a(["schema",a(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:s((function(e){return a(["scalar",e.name,a(e.directives," ")]," ")})),ObjectTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["type",t,u("implements ",a(n," & ")),a(r," "),c(i)]," ")})),FieldDefinition:s((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(h(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+": "+r+u(" ",a(i," "))})),InputValueDefinition:s((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return a([t+": "+n,u("= ",r),a(i," ")]," ")})),InterfaceTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["interface",t,u("implements ",a(n," & ")),a(r," "),c(i)]," ")})),UnionTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.types;return a(["union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")})),EnumTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.values;return a(["enum",t,a(n," "),c(r)]," ")})),EnumValueDefinition:s((function(e){return a([e.name,a(e.directives," ")]," ")})),InputObjectTypeDefinition:s((function(e){var t=e.name,n=e.directives,r=e.fields;return a(["input",t,a(n," "),c(r)]," ")})),DirectiveDefinition:s((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(h(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+(r?" repeatable":"")+" on "+a(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return a(["extend schema",a(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["extend type",t,u("implements ",a(n," & ")),a(r," "),c(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return a(["extend interface",t,u("implements ",a(n," & ")),a(r," "),c(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return a(["extend union",t,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return a(["extend enum",t,a(n," "),c(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return a(["extend input",t,a(n," "),c(r)]," ")}};function s(e){return function(t){return a([t.description,e(t)],"\n")}}function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return u("{\n",l(a(e,"\n")),"\n}")}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function l(e){return u("  ",e.replace(/\n/g,"\n  "))}function d(e){return-1!==e.indexOf("\n")}function h(e){return null!=e&&e.some(d)}},285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=void 0,u=Array.isArray(e),l=[e],d=-1,h=[],f=void 0,p=void 0,m=void 0,y=[],v=[],b=e;do{var g=++d===l.length,w=g&&0!==h.length;if(g){if(p=0===v.length?void 0:y[y.length-1],f=m,m=v.pop(),w){if(u)f=f.slice();else{for(var I={},E=0,k=Object.keys(f);E<k.length;E++){var x=k[E];I[x]=f[x]}f=I}for(var _=0,O=0;O<h.length;O++){var S=h[O][0],T=h[O][1];u&&(S-=_),u&&null===T?(f.splice(S,1),_++):f[S]=T}}d=r.index,l=r.keys,h=r.edits,u=r.inArray,r=r.prev}else{if(p=m?u?d:l[d]:void 0,null==(f=m?m[p]:b))continue;m&&y.push(p)}var A,D=void 0;if(!Array.isArray(f)){if(!(0,o.isNode)(f))throw new Error("Invalid AST Node: ".concat((0,i.default)(f),"."));var C=c(t,f.kind,g);if(C){if((D=C.call(t,f,p,m,y,v))===a)break;if(!1===D){if(!g){y.pop();continue}}else if(void 0!==D&&(h.push([p,D]),!g)){if(!(0,o.isNode)(D)){y.pop();continue}f=D}}}void 0===D&&w&&h.push([p,f]),g?y.pop():(r={inArray:u,index:d,keys:l,edits:h,prev:r},l=(u=Array.isArray(f))?f:null!==(A=n[f.kind])&&void 0!==A?A:[],d=-1,h=[],m&&v.push(m),m=f)}while(void 0!==r);return 0!==h.length&&(b=h[h.length-1][1]),b},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===a)t[r]=a;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===a)t[r]=a;else if(void 0!==o&&!1!==o)return o}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=c,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(807),s={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=s;var a=Object.freeze({});function c(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}t.BREAK=a},121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),e=n.hmd(e);const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},283:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeFn=t.serializeFn=void 0;var o=n(119);t.serializeFn=function(e){var t=e.toString();return{body:t.match(o.extractBodyRegexp)[1].trim(),argNames:t.match(o.extractParamsRegexp)[1].split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}))}},t.deserializeFn=function(e){return new(Function.bind.apply(Function,i(i([void 0],r(e.argNames)),[e.body])))}},119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractParamsRegexp=t.extractBodyRegexp=void 0,t.extractBodyRegexp=/^function[^{]+\{([\s\S]*)\}$/,t.extractParamsRegexp=/^function[^\(]*\(([^\)]*)/}},r={};function i(e){var t=r[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var o=r[e]={id:e,loaded:!1,exports:{}};try{var s={id:e,module:o,factory:n[e],require:i};i.i.forEach((function(e){e(s)})),o=s.module,s.factory.call(o.exports,o,o.exports,s.require)}catch(e){throw o.error=e,e}return o.loaded=!0,o.exports}return i.m=n,i.c=r,i.i=[],i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"584ea057b6704dacb525",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@flatfile/sdk:",i.l=(n,r,o,s)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[r];var h=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,r,o={},s=i.c,a=[],c=[],u="idle";function l(e){u=e;for(var t=[],n=0;n<c.length;n++)t[n]=c[n].call(null,e);return Promise.all(t)}function d(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return d(e)}))}function h(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return l("check").then(i.hmrM).then((function(r){return r?l("prepare").then((function(){var o=[];return t=[],n=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,t){return i.hmrC[t](r.c,r.r,r.m,e,n,o),e}),[])).then((function(){return d((function(){return e?p(e):l("ready").then((function(){return o}))}))}))})):l(m()?"ready":"idle").then((function(){return null}))}))}function f(e){return"ready"!==u?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):p(e)}function p(e){e=e||{},m();var t=n.map((function(t){return t(e)}));n=void 0;var i=t.map((function(e){return e.error})).filter(Boolean);if(i.length>0)return l("abort").then((function(){throw i[0]}));var o=l("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var s,a=l("apply"),c=function(e){s||(s=e)},u=[];return t.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)u.push(t[n])}})),Promise.all([o,a]).then((function(){return s?l("fail").then((function(){throw s})):r?p(e).then((function(e){return u.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):l("idle").then((function(){return u}))}))}function m(){if(r)return n||(n=[]),Object.keys(i.hmrI).forEach((function(e){r.forEach((function(t){i.hmrI[e](t,n)}))})),r=void 0,!0}i.hmrD=o,i.i.push((function(p){var m,y,v,b,g=p.module,w=function(n,r){var i=s[r];if(!i)return n;var o=function(t){if(i.hot.active){if(s[t]){var o=s[t].parents;-1===o.indexOf(r)&&o.push(r)}else a=[r],e=t;-1===i.children.indexOf(t)&&i.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+r),a=[];return n(t)},c=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&"e"!==h&&Object.defineProperty(o,h,c(h));return o.e=function(e){return function(e){switch(u){case"ready":return l("prepare"),t.push(e),d((function(){return l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},o}(p.require,p.id);g.hot=(m=p.id,y=g,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:v=e!==m,_requireSelf:function(){a=y.parents.slice(),e=v?void 0:m,i(m)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)b._acceptedDependencies[e[r]]=t||function(){},b._acceptedErrorHandlers[e[r]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,u){case"idle":n=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,n)})),l("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(m)}},check:h,apply:f,status:function(e){if(!e)return u;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:o[m]},e=void 0,b),g.parents=a,g.children=[],a=[],p.require=w})),i.hmrC={},i.hmrI={}})(),i.p="/",(()=>{var e,t,n,r,o=i.hmrS_jsonp=i.hmrS_jsonp||{179:0},s={};function a(e){return new Promise(((t,n)=>{s[e]=t;var r=i.p+i.hu(e),o=new Error;i.l(r,(t=>{if(s[e]){s[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,n(o)}}))}))}function c(s){function a(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),s=o.id,a=o.chain,u=i.c[s];if(u&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var l=0;l<u.parents.length;l++){var d=u.parents[l],h=i.c[d];if(h){if(h.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([d]),moduleId:s,parentId:d};-1===t.indexOf(d)&&(h.hot._acceptedDependencies[s]?(n[d]||(n[d]=[]),c(n[d],[s])):(delete n[d],t.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}i.f&&delete i.f.jsonpHmr,e=void 0;var u={},l=[],d={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in t)if(i.o(t,f)){var p,m=t[f],y=!1,v=!1,b=!1,g="";switch((p=m?a(f):{type:"disposed",moduleId:f}).chain&&(g="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":s.onDeclined&&s.onDeclined(p),s.ignoreDeclined||(y=new Error("Aborted because of self decline: "+p.moduleId+g));break;case"declined":s.onDeclined&&s.onDeclined(p),s.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+g));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(p),s.ignoreUnaccepted||(y=new Error("Aborted because "+f+" is not accepted"+g));break;case"accepted":s.onAccepted&&s.onAccepted(p),v=!0;break;case"disposed":s.onDisposed&&s.onDisposed(p),b=!0;break;default:throw new Error("Unexception type "+p.type)}if(y)return{error:y};if(v)for(f in d[f]=m,c(l,p.outdatedModules),p.outdatedDependencies)i.o(p.outdatedDependencies,f)&&(u[f]||(u[f]=[]),c(u[f],p.outdatedDependencies[f]));b&&(c(l,[p.moduleId]),d[f]=h)}t=void 0;for(var w,I=[],E=0;E<l.length;E++){var k=l[E],x=i.c[k];x&&(x.hot._selfAccepted||x.hot._main)&&d[k]!==h&&!x.hot._selfInvalidated&&I.push({module:k,require:x.hot._requireSelf,errorHandler:x.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var t,r=l.slice();r.length>0;){var s=r.pop(),a=i.c[s];if(a){var c={},d=a.hot._disposeHandlers;for(E=0;E<d.length;E++)d[E].call(null,c);for(i.hmrD[s]=c,a.hot.active=!1,delete i.c[s],delete u[s],E=0;E<a.children.length;E++){var h=i.c[a.children[E]];h&&(e=h.parents.indexOf(s))>=0&&h.parents.splice(e,1)}}}for(var f in u)if(i.o(u,f)&&(a=i.c[f]))for(w=u[f],E=0;E<w.length;E++)t=w[E],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(e){for(var t in d)i.o(d,t)&&(i.m[t]=d[t]);for(var n=0;n<r.length;n++)r[n](i);for(var o in u)if(i.o(u,o)){var a=i.c[o];if(a){w=u[o];for(var c=[],h=[],f=[],p=0;p<w.length;p++){var m=w[p],y=a.hot._acceptedDependencies[m],v=a.hot._acceptedErrorHandlers[m];if(y){if(-1!==c.indexOf(y))continue;c.push(y),h.push(v),f.push(m)}}for(var b=0;b<c.length;b++)try{c[b].call(null,w)}catch(t){if("function"==typeof h[b])try{h[b](t,{moduleId:o,dependencyId:f[b]})}catch(n){s.onErrored&&s.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:f[b],error:n,originalError:t}),s.ignoreErrored||(e(n),e(t))}else s.onErrored&&s.onErrored({type:"accept-errored",moduleId:o,dependencyId:f[b],error:t}),s.ignoreErrored||e(t)}}}for(var g=0;g<I.length;g++){var E=I[g],k=E.module;try{E.require(k)}catch(t){if("function"==typeof E.errorHandler)try{E.errorHandler(t,{moduleId:k,module:i.c[k]})}catch(n){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:n,originalError:t}),s.ignoreErrored||(e(n),e(t))}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:k,error:t}),s.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdate_flatfile_sdk=(e,n,o)=>{for(var a in n)i.o(n,a)&&(t[a]=n[a]);o&&r.push(o),s[e]&&(s[e](),s[e]=void 0)},i.hmrI.jsonp=function(e,o){t||(t={},r=[],n=[],o.push(c)),i.o(t,e)||(t[e]=i.m[e])},i.hmrC.jsonp=function(s,u,l,d,h,f){h.push(c),e={},n=u,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],s.forEach((function(t){i.o(o,t)&&void 0!==o[t]&&(d.push(a(t)),e[t]=!0)})),i.f&&(i.f.jsonpHmr=function(t,n){e&&!i.o(e,t)&&i.o(o,t)&&void 0!==o[t]&&(n.push(a(t)),e[t]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i(587)})()}));